# 取反运算符 `-` 的问题

C++为重载运算符提供了一些语法糖，导致有的时候初学者产生疑问，就拿取反运算符`-`来举例

```cpp
Vect Vect::operator-() { return Vect(-x, -y); }
```

这是一个向量取反的运算符重载，他是 `Vect` 类的成员函数，在使用时这样写

```cpp
Vect v(1,2); // 初始化v向量
Vect vv=-v; // 此时vv=[-1,-2]
```

这让人很疑惑，想正确的调用重载后的 `-` 运算符理论上应该写

```cpp
Vect vv=v-;
// 它的展开是
Vect vv=v.opreator-();
```

但是实际上,C++允许我们通过`v-`的形式来调用成员函数版本的负号运算符,这是C++的一个语法特性,可以提供语法糖的作用。

即使没有重载友元函数版本,编译器也会自动将`-v`转换为`v.operator-()`,这样我们就可以直接使用直观的`-`符号来调用成员函数版本。

所以实际上`-v`会隐式地转换为`v.operator-()`,从而调用成员函数版本取负数。

这么做的好处是,使用负号运算符的代码更加简洁和直观。否则若非要强制使用`v.operator-()`的形式,会使代码变得非常别扭。

所以综上,C++允许`-v`这种简洁的形式来调用成员函数版本的负号运算符,这是语言提供的语法糖,使代码更加简洁和符合直觉。但实质上,它会被转换为`v.operator-()`的形式来调用成员函数。