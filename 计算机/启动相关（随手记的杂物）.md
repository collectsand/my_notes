# 启动

计算机启动时，通过 BIOS 中断来把 bootsect 加载到内存中的。BIOS 是基本输入输出系统，它是一段固化在 ROM 中的程序，负责检测硬件并提供一些基本的输入输出功能。当计算机加电后，CPU 会从0xFFFF0地址开始执行 BIOS 中的代码，这段代码会检查 RAM、键盘、显示器等硬件是否正常，并寻找启动设备。如果启动设备是软盘或硬盘，BIOS 会读取第一个扇区（512字节）的内容到内存的0x7C00地址处，这个扇区就是 bootsect 所在的位置。然后 BIOS 会设置 CS=0x07C0，IP=0x0000，即跳转到0x7C00处执行 bootsect 程序。bootsect 程序的作用是将操作系统的其他部分（如 setup 和 system）从磁盘读入到内存中，并将控制权交给它们。

# 实模式

实模式是一种操作系统的工作模式，它是Intel公司80286及以后的x86兼容处理器（CPU）的一种操作模式。实模式被特殊定义为20位地址内存可访问空间上，这就意味着它的容量是2的20次幂（1M）的可访问内存空间（物理内存和BIOS-ROM），软件可通过这些地址直接访问BIOS程序和外围硬件。实模式下处理器没有硬件级的内存保护概念和多道任务的工作模式。

实模式将整个物理内存看成分段的区域，程序代码和数据位于不同区域，系统程序和用户程序没有区别对待，而且每一个指针都是指向“实在”的物理地址。这样一来，用户程序的一个指针如果指向了系统程序区域或其他用户程序区域，并改变了值，那么对于这个被修改的系统程序或用户程序，其后果就很可能是灾难性的。

实模式寻址采用和8086相同的16位段和偏移量，最大寻址空间1MB，最大分段64KB。可以使用32位指令。32位的 x86 CPU 用做高速的8086。

# BIOS

BIOS 是基本输入输出系统，它是一段固化在 ROM 中的程序（bios 被固化在主板的一个芯片上），负责检测硬件并提供一些基本的输入输出功能。BIOS 一般不需要加载到内存条中，它可以直接被 CPU 访问和执行。但是，有些情况下，为了提高 BIOS 的运行速度或者兼容某些设备，BIOS 会部分或全部加载到内存条中，这种技术叫做 Shadow RAM)。另外，现在很多 BIOS 都是用的快闪记忆体（Flash Memory），它是一种可擦写可编程的 ROM，必须加载到内存条才可以被 CPU 直接访问