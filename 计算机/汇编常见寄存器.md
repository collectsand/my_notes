# 通用寄存器

x86是一种广泛用于个人计算机和服务器的计算机架构，通用寄存器是 x86架构中的一组寄存器，用于执行各种计算和数据操作。在 x86架构中，通用寄存器主要用于存储数据、执行算术和逻辑操作以及进行地址计算。通用寄存器在不同的 x86处理器代代之间可能会有一些变化，但通常包括以下寄存器：

1. **EAX（累加器寄存器）：** 通常用于存储函数返回值和一般用途的数据操作。

2. **EBX（基址寄存器）：** 在一些情况下用于存储数据的基址或偏移地址，也可以用作一般用途寄存器。

3. **ECX（计数器寄存器）：** 主要用于循环计数或重复指令操作。

4. **EDX（数据寄存器）：** 通常用于存放一般数据，也可用于一些特殊用途。

这些寄存器在32位模式下，还有对应的16位和8位版本，分别称为AX, BX, CX, DX（16位）和AH, AL, BH, BL, CH, CL, DH, DL（8位）。在64位模式下，这些寄存器扩展为RAX, RBX, RCX, RDX，分别具有64位宽度。

此外，x86架构还包括其他通用寄存器，如ESI（源变址寄存器）、EDI（目的变址寄存器）、ESP（堆栈指针寄存器）和EBP（基址指针寄存器），它们用于存储内存地址、堆栈操作以及数据传输。这些寄存器在不同的编程语言和操作系统中都扮演着重要的角色，用于执行各种计算任务。

总的来说，x86架构的通用寄存器是非常重要的，它们为程序员提供了用于处理数据和执行计算的工具，同时也用于函数调用和内存管理等操作。在汇编语言编程中，程序员可以直接访问这些寄存器，执行精细粒度的控制和操作。

# 段寄存器

在 x 86 汇编和计算机体系结构中，段寄存器是一组特殊寄存器，每个段寄存器只有 16 位用于管理内存访问和地址转换。这些寄存器的作用是与分段内存管理模式相关的，分段是一种内存管理技术，它将内存分成若干段，每个段具有不同的属性和大小。这些段寄存器包括：
##  **CS（Code Segment Register）**

**CS 寄存器存储着当前执行的代码段的基地址。当 CPU 执行指令时，CS 寄存器指定了代码段的起始地址。这是保护模式下的特权级别（如内核态和用户态）切换的关键之一。**

CS 和 IP 是 8086 CPU 中 2 个最关键的寄存器。（***Tips：PC 是计算机科学中使用的一个术语。IP 是 x86 兼容 CPU 中的一个寄存器。简单来说，在 x86 兼容 CPU 上，CS 段寄存器和 IP 寄存器两个寄存器就是实现计算机科学中的 PC 这个概念的具体设施。***）它们指示了要读取指令的地址。大部分 8086 CPU 寄存器的值，都可以使用 mov 指令来改变，但 CS、IP 中的值不能用 mov 指令来修改。能够改变 CS、IP 寄存器内容的指令称为转移指令。一个最简单的可以修改它们的指令，就是上面用的 jmp 指令。

在启动代码中有这样一句 `jmpi go, #BOOTSEG` 用来修改 CS 的 #不确定内容

2. **DS（Data Segment Register）：** DS 寄存器通常用于指定数据段的基地址。当你需要访问数据时，DS 寄存器指定了数据段的起始地址。

3. **ES（Extra Segment Register）：** ES 寄存器常用于附加数据段，用于一些特定的数据操作。例如，在字符串操作中，ES 寄存器可能被用来指定额外的数据段。

4. **SS（Stack Segment Register）：** SS 寄存器指定了堆栈段的基地址。堆栈是用于存储函数调用的局部变量和返回地址的内存区域，SS 寄存器用于指定堆栈段的位置。

5. **FS 和 GS 寄存器：** 这些寄存器通常被用于一些扩展功能，如线程局部存储（TLS）或某些操作系统特定的任务。

这些段寄存器在 x 86 的实模式和保护模式下都起作用，但它们在不同模式下的行为略有不同。在实模式下，它们用于简单的分段访问，而在保护模式下，它们与分页机制一起用于实现更高级的内存保护和多任务处理。

需要注意的是，随着处理器技术的发展，现代操作系统通常不再直接使用这些段寄存器进行内存管理，而是依赖于操作系统内核来管理内存保护和多任务处理。但在编写底层系统软件、操作系统内核或某些特殊用途的程序时，仍然需要了解和使用段寄存器以进行更底层的内存控制。